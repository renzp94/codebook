{"title":"Wigets学习之图片","slug":"Flutter Wiget","time":"2021-06-29T19:10:40.000Z","author":"renzp94","status":"done","html":"<p>在<code>Flutter</code>中图片分为：<code>本地图片</code>和<code>网络图片</code></p>\n<h2 id=\"image\">Image</h2>\n<blockquote>\n<p>用于显示图片</p>\n</blockquote>\n<ul>\n<li><code>image</code>：图片<code>Widget</code>，本地图片可以使用<code>AssetImage</code>，网络图片可以使用<code>NetworkImage</code></li>\n<li><code>frameBuilder</code>：图片帧构造器，可用于设置图片样式，<code>BuildContext context</code>是构建上下文，<code>Widget child</code>为当前图片，<code>int? frame</code>为渲染<code>Image</code>帧数的下标(默认首帧)</li>\n<li><code>loadingBuilder</code>：图片加载构造器，用于设置加载样式</li>\n<li><code>errorBuilder</code>：图片加载失败构造器，用于设置加载失败样式</li>\n<li><code>semanticLabel</code>：语义化描述</li>\n<li><code>excludeFromSemantics</code>：是否从语义化中排除</li>\n<li><code>width</code>：宽度</li>\n<li><code>height</code>：高度</li>\n<li><code>color</code>：颜色</li>\n<li><code>colorBlendMode</code>：颜色混合模式，默认为<code>BlendMode.srcIn</code></li>\n<li><code>fit</code>：图片裁剪，默认为<code>BoxFit.contain</code><ul>\n<li><code>BoxFit.contain</code>：等比例显示，确保长边完全显示</li>\n<li><code>BoxFit.cover</code>：等比例显示，确保短边完全显示</li>\n<li><code>BoxFit.fill</code>：拉伸显示确保完全显示</li>\n<li><code>BoxFit.fitHeight</code>：等比显示，以高度为准显示</li>\n<li><code>BoxFit.fitWidth</code>：等比显示，以宽度度为准显示</li>\n</ul>\n</li>\n<li><code>repeat</code>：重复方式</li>\n</ul>\n<pre><code class=\"language-dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-symbol\">&#x27;package</span>:flutter/material.dart&#x27;;\n\nvoid main() {\n  runApp(<span class=\"hljs-type\">App</span>());\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">App</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>{\n  <span class=\"hljs-meta\">@override</span>\n  <span class=\"hljs-type\">Widget</span> build(<span class=\"hljs-type\">BuildContext</span> context) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">Column</span>(\n      mainAxisAlignment: <span class=\"hljs-type\">MainAxisAlignment</span>.center,\n      children: [\n        <span class=\"hljs-type\">Image</span>(\n          image: <span class=\"hljs-type\">AssetImage</span>(<span class=\"hljs-symbol\">&#x27;assets</span>/images/logo.png&#x27;),\n          width: <span class=\"hljs-number\">200</span>,\n          frameBuilder: (\n            <span class=\"hljs-type\">BuildContext</span> context,\n            <span class=\"hljs-type\">Widget</span> child,\n            int? frame,\n            bool wasSynchronouslyLoaded,\n          ) {\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">Container</span>(\n                padding: <span class=\"hljs-type\">EdgeInsets</span>.all(<span class=\"hljs-number\">9</span>),\n                color: <span class=\"hljs-type\">Colors</span>.red.shade100,\n                child: child);\n          },\n        ),\n        <span class=\"hljs-type\">SizedBox</span>(\n          height: <span class=\"hljs-number\">10</span>,\n        ),\n        <span class=\"hljs-type\">Image</span>(\n            image: <span class=\"hljs-type\">NetworkImage</span>(\n                <span class=\"hljs-symbol\">&#x27;https</span>:<span class=\"hljs-comment\">//img0.baidu.com/it/u=2592042537,1864064944&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;),</span>\n            width: <span class=\"hljs-number\">200</span>,\n            height: <span class=\"hljs-number\">300</span>,\n            repeat: <span class=\"hljs-type\">ImageRepeat</span>.repeat),\n      ],\n    );\n  }\n}\n</code></pre>\n<h3 id=\"imageasset\">Image.asset</h3>\n<blockquote>\n<p>显示一个本地图片</p>\n</blockquote>\n<ul>\n<li><code>name</code>：图片路径(必填)</li>\n</ul>\n<p>其他属性和<code>Image</code>一致</p>\n<pre><code class=\"language-dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-symbol\">&#x27;package</span>:flutter/material.dart&#x27;;\n\nvoid main() {\n  runApp(<span class=\"hljs-type\">App</span>());\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">App</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>{\n  <span class=\"hljs-meta\">@override</span>\n  <span class=\"hljs-type\">Widget</span> build(<span class=\"hljs-type\">BuildContext</span> context) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">Center</span>(\n      child: <span class=\"hljs-type\">Image</span>.asset(\n        <span class=\"hljs-symbol\">&#x27;assets</span>/images/logo.png&#x27;,\n        width: <span class=\"hljs-number\">200</span>,\n      ),\n    );\n  }\n}\n</code></pre>\n<h3 id=\"imagenetwork\">Image.network</h3>\n<blockquote>\n<p>显示一个网络图片</p>\n</blockquote>\n<ul>\n<li><code>src</code>：图片地址(必填)</li>\n</ul>\n<p>其他属性和<code>Image</code>一致</p>\n<pre><code class=\"language-dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-symbol\">&#x27;package</span>:flutter/material.dart&#x27;;\n\nvoid main() {\n  runApp(<span class=\"hljs-type\">App</span>());\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">App</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>{\n  <span class=\"hljs-meta\">@override</span>\n  <span class=\"hljs-type\">Widget</span> build(<span class=\"hljs-type\">BuildContext</span> context) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">Center</span>(\n      child: <span class=\"hljs-type\">Image</span>.network(\n        <span class=\"hljs-symbol\">&#x27;https</span>:<span class=\"hljs-comment\">//img0.baidu.com/it/u=2592042537,1864064944&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;,</span>\n        width: <span class=\"hljs-number\">200</span>,\n      ),\n    );\n  }\n}\n</code></pre>\n<h3 id=\"圆角图片\">圆角图片</h3>\n<p>实现圆角图片可以配合<code>ClipRRect</code>部件</p>\n<h4 id=\"cliprrect\">ClipRRect</h4>\n<blockquote>\n<p>使用圆角裁剪子部件</p>\n</blockquote>\n<ul>\n<li><code>child</code>：子部件</li>\n<li><code>borderRadius</code>：圆角弧度</li>\n</ul>\n<pre><code class=\"language-dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-symbol\">&#x27;package</span>:flutter/material.dart&#x27;;\n\nvoid main() {\n  runApp(<span class=\"hljs-type\">App</span>());\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">App</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>{\n  <span class=\"hljs-meta\">@override</span>\n  <span class=\"hljs-type\">Widget</span> build(<span class=\"hljs-type\">BuildContext</span> context) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">Center</span>(\n      child: <span class=\"hljs-type\">ClipRRect</span>(\n        child: <span class=\"hljs-type\">Image</span>.network(\n          <span class=\"hljs-symbol\">&#x27;https</span>:<span class=\"hljs-comment\">//img0.baidu.com/it/u=2592042537,1864064944&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;,</span>\n          width: <span class=\"hljs-number\">200</span>,\n        ),\n        borderRadius: <span class=\"hljs-type\">BorderRadius</span>.circular(<span class=\"hljs-number\">16</span>),\n      ),\n    );\n  }\n}\n</code></pre>\n<h3 id=\"圆形图片\">圆形图片</h3>\n<p>实现圆形图片可以配合<code>ClipOval</code>部件</p>\n<h4 id=\"clipoval\">ClipOval</h4>\n<blockquote>\n<p>创建一个圆形裁剪</p>\n</blockquote>\n<ul>\n<li><code>child</code>：裁剪的部件</li>\n</ul>\n<pre><code class=\"language-dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-symbol\">&#x27;package</span>:flutter/material.dart&#x27;;\n\nvoid main() {\n  runApp(<span class=\"hljs-type\">App</span>());\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">App</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>{\n  <span class=\"hljs-meta\">@override</span>\n  <span class=\"hljs-type\">Widget</span> build(<span class=\"hljs-type\">BuildContext</span> context) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">Center</span>(\n      child: <span class=\"hljs-type\">ClipOval</span>(\n        child: <span class=\"hljs-type\">Image</span>.network(\n          <span class=\"hljs-symbol\">&#x27;https</span>:<span class=\"hljs-comment\">//img0.baidu.com/it/u=2592042537,1864064944&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg&#x27;,</span>\n          width: <span class=\"hljs-number\">200</span>,\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<h2 id=\"圆形头像\">圆形头像</h2>\n<blockquote>\n<p>用于展示圆形头像</p>\n</blockquote>\n<ul>\n<li><code>child</code>：头像内容，可以指定文字，如果指定为图片则需要手动设置图片圆角</li>\n<li><code>backgroundColor</code>：背景色</li>\n<li><code>backgroundImage</code>：背景图</li>\n<li><code>radius</code>：大小</li>\n<li><code>minRadius</code>：最小</li>\n<li><code>maxRadius</code>：最大</li>\n</ul>\n<pre><code class=\"language-dart\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-symbol\">&#x27;package</span>:flutter/material.dart&#x27;;\n\nvoid main() {\n  runApp(<span class=\"hljs-type\">App</span>());\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">App</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">StatelessWidget</span> </span>{\n  <span class=\"hljs-meta\">@override</span>\n  <span class=\"hljs-type\">Widget</span> build(<span class=\"hljs-type\">BuildContext</span> context) {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-type\">MaterialApp</span>(\n      home: <span class=\"hljs-type\">Scaffold</span>(\n        body: <span class=\"hljs-type\">Center</span>(\n          child: <span class=\"hljs-type\">CircleAvatar</span>(\n            child: <span class=\"hljs-type\">Text</span>(<span class=\"hljs-symbol\">&#x27;Cod</span>e&#x27;),\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"}